env:
  workers: 30
  world_size: 1
  rank: 0
  dist_url: tcp://localhost:40012
  dist_backend: nccl
  port: 40012
  node: localhost
  distributed: true
  seed: 2
  gpu: null
  ngpu: 2
  mem_gb: 100
  pin_mem: true
  slurm: false
  slurm_suffix: ''
  slurm_partition: morgadolab
  slurm_timeout: 100
  nodelist: ''
  exclude: ''
log:
  print_freq: 100
  save_freq: 50
  eval_freq: 1
  debug: false
  ckpt_dir: ${output_dir}/${job_name}/checkpoints/
  submitit_dir: ${output_dir}/${job_name}/logs/
  result_dir: ${output_dir}/${job_name}/results/
  suffix: ''
  use_wandb: false
  wandb_dir: ${output_dir}/${job_name}/wandb/
  wandb_entity: pmorgado
  wandb_project: mae2cl
  wandb_watch_freq: 0
  ckpt_save_list: []
worker: main_lmim
output_dir: /home/yibingwei/checkpoints/mae2cl
job_name: latentMIM_${encoder}_bs${batch_size}x${env.ngpu}x${accum_iter}_blr${blr}x${min_lr_frac}_ep${epochs}_${dataset}_id${env.seed}
dataset: imagenet100
data_path: /home/yibingwei/dataset/ILSVRC2012
encoder: vit_base
patch_size: 16
decoder_depth: 3
target_depth: 12
target_mom: 0.99
target_update_freq: 1
loss: infonce_patches
tau: 0.2
use_proj: false
drop: 0.0
attn_drop: 0.0
drop_path: 0.0
input_size: 224
min_crop: 0.2
grid_size: 14
num_vis: 20
num_rec_out: 0
patch_gap: 4
avg_vis_mask_token: true
avg_sim_coeff: 0
sim_init: 0.75
sim_end: 0.25
mask_target: true
freeze_pe: true
proj:
  mlp_dim: 4096
  mlp_depth: 3
epochs: 300
warmup_epochs: 30
start_epoch: 0
batch_size: 128
weight_decay: 0.05
blr: 0.00015
accum_iter: 4
lr: null
min_lr_frac: 0.25
resume: true
knn_eval_only: false
eval_freq: 10
